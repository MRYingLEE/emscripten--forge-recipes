--- a/setup.py
+++ b/setup.py
@@ -950,6 +950,11 @@ def build_mupdf_unix(
     env = os.environ.copy()
     env['XCFLAGS'] = ' '.join(flags_c)
     env['XCXXFLAGS'] = ' '.join(flags_cpp)
+    # Force disable barcode and tesseract for WebAssembly compatibility
+    env['PYMUPDF_SETUP_MUPDF_BARCODE'] = '0'
+    env['PYMUPDF_SETUP_MUPDF_TESSERACT'] = '0'
+    # Override make args
+    make_args = make_args.replace('barcode=yes', 'barcode=no').replace('HAVE_TESSERACT=yes', 'HAVE_TESSERACT=no').replace('HAVE_LEPTONICA=yes', 'HAVE_LEPTONICA=no')
     
     command = textwrap.dedent(f'''
         cd {mupdf_dir}